import*as e from"react";import t,{ariaLabel as n,localeOption as r,FilterMatchMode as o,FilterService as l}from"primereact/api";import{useEventListener as a,useUnmountEffect as i,useMountEffect as c}from"primereact/hooks";import{Paginator as u}from"primereact/paginator";import{DomHandler as s,ObjectUtils as f,classNames as p}from"primereact/utils";import{Ripple as d}from"primereact/ripple";import{OverlayService as m}from"primereact/overlayservice";import{InputText as y}from"primereact/inputtext";import{Tooltip as g}from"primereact/tooltip";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e){var t=v(e,"string");return"symbol"===h(t)?t:String(t)}function E(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){if(Array.isArray(e))return w(e)}function x(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e){return C(e)||x(e)||O(e)||k()}function N(e){if(Array.isArray(e))return e}function K(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,a,i=[],c=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){return N(e)||K(e,t)||O(e,t)||P()}var D=function(t){var n=R(e.useState(!1),2),r=n[0],o=n[1],l=e.useRef(null),c=e.useRef(null),u=e.useRef(!1),d=e.useRef(null),y=e.useRef(null),g=R(a({type:"click",listener:function(e){!u.current&&S(e.target)&&w(e),u.current=!1}}),2),b=g[0],h=g[1],v=function(){t.editor&&!r&&(t.selectOnEdit||!t.selectOnEdit&&t.selected)&&(u.current=!0,o(!0),b(),d.current=function(e){S(e.target)||(u.current=!0)},m.on("overlay-click",d.current))},S=function(e){return l.current&&!(l.current.isSameNode(e)||l.current.contains(e))},E=function(){setTimeout((function(){o(!1),h(),m.off("overlay-click",d.current),d.current=null}),1)},w=function(e){t.cellEditValidator?t.cellEditValidator({originalEvent:e,columnProps:t})&&E():E()};e.useEffect((function(){if(l.current&&t.editor)if(clearTimeout(y.current),r){var e=s.findSingle(l.current,"input");e&&document.activeElement!==e&&!e.hasAttribute("data-isCellEditing")&&(e.setAttribute("data-isCellEditing",!0),e.focus()),c.current.tabIndex=-1}else y.current=setTimeout((function(){c.current&&c.current.setAttribute("tabindex",0)}),50)})),i((function(){d.current&&(m.off("overlay-click",d.current),d.current=null)}));var C,x=f.getPropValue(t.bodyClassName,t.node.data,{field:t.field,rowIndex:t.rowIndex,props:t}),O=p(x||t.className,{"p-editable-column":t.editor,"p-cell-editing":!!t.editor&&r}),k=t.bodyStyle||t.style;if(r){if(!t.editor)throw new Error("Editor is not found on column.");C=f.getJSXElement(t.editor,{node:t.node,rowData:t.node.data,value:f.resolveFieldData(t.node.data,t.field),field:t.field,rowIndex:t.rowIndex,props:t})}else C=t.body?f.getJSXElement(t.body,t.node,{field:t.field,rowIndex:t.rowIndex,props:t}):f.resolveFieldData(t.node.data,t.field);var M=t.editor&&e.createElement("a",{tabIndex:0,ref:c,className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(e){v()}},e.createElement("span",null));return e.createElement("td",{ref:l,className:O,style:k,onClick:v,onKeyDown:function(e){13!==e.which&&9!==e.which||w(e)}},t.children,M,C)};function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw l}}}}function j(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}D.displayName="TreeTableBodyCell";var A=e.memo((function(t){var r=e.useRef(null),o=e.useRef(null),l=e.useRef(null),a=e.useRef(!1),i=!!t.expandedKeys&&void 0!==t.expandedKeys[t.node.key],c=function(e){i?f(e):u(e),e.preventDefault(),e.stopPropagation()},u=function(e){var n=t.expandedKeys?I({},t.expandedKeys):{};n[t.node.key]=!0,t.onToggle({originalEvent:e,value:n}),m(e,!0)},f=function(e){var n=I({},t.expandedKeys);delete n[t.node.key],t.onToggle({originalEvent:e,value:n}),m(e,!1)},m=function(e,n){n?t.onExpand&&t.onExpand({originalEvent:e,node:t.node}):t.onCollapse&&t.onCollapse({originalEvent:e,node:t.node})},y=function(e){t.onRowClick&&t.onRowClick(e,t.node),a.current=!1},g=function(e){var n=C(),r=t.selectionKeys?I({},t.selectionKeys):{};n?(t.propagateSelectionDown?E(t.node,!1,r):delete r[t.node.key],t.propagateSelectionUp&&t.onPropagateUp&&t.onPropagateUp({originalEvent:e,check:!1,selectionKeys:r}),t.onUnselect&&t.onUnselect({originalEvent:e,node:t.node})):(t.propagateSelectionDown?E(t.node,!0,r):r[t.node.key]={checked:!0},t.propagateSelectionUp&&t.onPropagateUp&&t.onPropagateUp({originalEvent:e,check:!0,selectionKeys:r}),t.onSelect&&t.onSelect({originalEvent:e,node:t.node})),t.onSelectionChange&&t.onSelectionChange({originalEvent:e,value:r}),s.clearSelection()},h=function(){s.addClass(l.current,"p-focus"),s.addClass(o.current,"p-checkbox-focused")},v=function(){s.removeClass(l.current,"p-focus"),s.removeClass(o.current,"p-checkbox-focused")},S=function(e){var n,r=e.check,o=e.selectionKeys,l=0,a=!1,i=T(t.node.children);try{for(i.s();!(n=i.n()).done;){var c=n.value;o[c.key]&&o[c.key].checked?l++:o[c.key]&&o[c.key].partialChecked&&(a=!0)}}catch(e){i.e(e)}finally{i.f()}r&&l===t.node.children.length?o[t.node.key]={checked:!0,partialChecked:!1}:(r||delete o[t.node.key],o[t.node.key]=a||l>0&&l!==t.node.children.length?{checked:!1,partialChecked:!0}:{checked:!1,partialChecked:!1}),t.propagateSelectionUp&&t.onPropagateUp&&t.onPropagateUp(e)},E=function e(t,n,r){if(n?r[t.key]={checked:!0,partialChecked:!1}:delete r[t.key],t.children&&t.children.length)for(var o=0;o<t.children.length;o++)e(t.children[o],n,r)},w=function(){return!("single"!==t.selectionMode&&"multiple"!==t.selectionMode||!t.selectionKeys)&&("single"===t.selectionMode?t.selectionKeys===t.node.key:void 0!==t.selectionKeys[t.node.key])},C=function(){return!!t.selectionKeys&&(t.selectionKeys[t.node.key]&&t.selectionKeys[t.node.key].checked)},x=function(){if("checkbox"===t.selectionMode&&!1!==t.node.selectable){var n=C(),r=!!t.selectionKeys&&t.selectionKeys[t.node.key]&&t.selectionKeys[t.node.key].partialChecked,a=p("p-checkbox-box",{"p-highlight":n,"p-indeterminate":r}),i=p("p-checkbox-icon p-c",{"pi pi-check":n,"pi pi-minus":r});return e.createElement("div",{className:"p-checkbox p-treetable-checkbox p-component",ref:o,onClick:g,role:"checkbox","aria-checked":n},e.createElement("div",{className:"p-hidden-accessible"},e.createElement("input",{type:"checkbox",onFocus:h,onBlur:v})),e.createElement("div",{className:a,ref:l},e.createElement("span",{className:i})))}return null},O=t.columns.map((function(r){var o,l,a,u;return r.props.expander&&(a=n(i?"collapseLabel":"expandLabel"),u=p("p-treetable-toggler-icon pi pi-fw",{"pi-chevron-right":!i,"pi-chevron-down":i}),o=e.createElement("button",{type:"button",className:"p-treetable-toggler p-link p-unselectable-text",onClick:c,tabIndex:-1,style:{marginLeft:16*t.level+"px",visibility:!1===t.node.leaf||t.node.children&&t.node.children.length?"visible":"hidden"},"aria-label":a},e.createElement("i",{className:u,"aria-hidden":"true"}),e.createElement(d,null)),l=x()),e.createElement(D,b({key:r.props.columnKey||r.props.field},r.props,{column:r,selectOnEdit:t.selectOnEdit,selected:w(),node:t.node,rowIndex:t.rowIndex}),o,l)})),k=i&&t.node.children?t.node.children.map((function(n,r){return e.createElement(A,{key:n.key||JSON.stringify(n.data),level:t.level+1,rowIndex:t.rowIndex+"_"+r,node:n,columns:t.columns,expandedKeys:t.expandedKeys,selectOnEdit:t.selectOnEdit,onToggle:t.onToggle,onExpand:t.onExpand,onCollapse:t.onCollapse,selectionMode:t.selectionMode,selectionKeys:t.selectionKeys,onSelectionChange:t.onSelectionChange,metaKeySelection:t.metaKeySelection,onRowClick:t.onRowClick,onSelect:t.onSelect,onUnselect:t.onUnselect,propagateSelectionUp:t.propagateSelectionUp,propagateSelectionDown:t.propagateSelectionDown,onPropagateUp:S,rowClassName:t.rowClassName,contextMenuSelectionKey:t.contextMenuSelectionKey,onContextMenuSelectionChange:t.onContextMenuSelectionChange,onContextMenu:t.onContextMenu})})):null,M={"p-highlight":w(),"p-highlight-contextmenu":t.contextMenuSelectionKey&&t.contextMenuSelectionKey===t.node.key};if(t.rowClassName){var N=t.rowClassName(t.node);M=I(I({},M),N)}return M=p(M,t.node.className),e.createElement(e.Fragment,null,e.createElement("tr",{ref:r,tabIndex:0,className:M,style:t.node.style,onClick:y,onTouchEnd:function(){a.current=!0},onContextMenu:function(e){s.clearSelection(),t.onContextMenuSelectionChange&&t.onContextMenuSelectionChange({originalEvent:e,value:t.node.key}),t.onContextMenu&&t.onContextMenu({originalEvent:e,node:t.node})},onKeyDown:function(e){if(e.target===r.current){var t=e.currentTarget;switch(e.which){case 40:var n=t.nextElementSibling;n&&n.focus(),e.preventDefault();break;case 38:var o=t.previousElementSibling;o&&o.focus(),e.preventDefault();break;case 39:i||u(e),e.preventDefault();break;case 37:i&&f(e),e.preventDefault();break;case 13:y(e),e.preventDefault()}}}},O),k)}));function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw l}}}}function W(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}A.displayName="TreeTableRow";var V=e.memo((function(t){var n="single"===t.selectionMode,o="multiple"===t.selectionMode,l=function e(n){var r,o=[],l=H(n=n||t.value);try{for(l.s();!(r=l.n()).done;){var i=r.value;o.push(i.key),a(i.key)&&(o=o.concat(e(i.children)))}}catch(e){l.e(e)}finally{l.f()}return o},a=function(e){return t.expandedKeys&&!!t.expandedKeys[e]},i=function(e,r){t.onRowClick&&t.onRowClick({originalEvent:e,node:r});var a=e.target.nodeName;if("INPUT"!==a&&"BUTTON"!==a&&"A"!==a&&!s.hasClass(e.target,"p-clickable")&&(n||o)&&!1!==r.selectable){var i,u=c(r),f=t.metaKeySelection,p=l(),d=p.findIndex((function(e){return e===r.key}));if(o&&e.shiftKey){s.clearSelection();var m=p.findIndex((function(e){return t.selectionKeys[e]})),y=Math.min(d,m),g=Math.max(d,m);i=L({},t.selectionKeys);for(var b=y;b<=g;b++){i[p[b]]=!0}}else if(f){var h=e.metaKey||e.ctrlKey;u&&h?(n?i=null:delete(i=L({},t.selectionKeys))[r.key],t.onUnselect&&t.onUnselect({originalEvent:e,node:r})):(n?i=r.key:o&&((i=h&&t.selectionKeys?L({},t.selectionKeys):{})[r.key]=!0),t.onSelect&&t.onSelect({originalEvent:e,node:r}))}else n?u?(i=null,t.onUnselect&&t.onUnselect({originalEvent:e,node:r})):(i=r.key,t.onSelect&&t.onSelect({originalEvent:e,node:r})):u?(delete(i=L({},t.selectionKeys))[r.key],t.onUnselect&&t.onUnselect({originalEvent:e,node:r})):((i=t.selectionKeys?L({},t.selectionKeys):{})[r.key]=!0,t.onSelect&&t.onSelect({originalEvent:e,node:r}));t.onSelectionChange&&t.onSelectionChange({originalEvent:e,value:i})}},c=function(e){return!(!n&&!o||!t.selectionKeys)&&(n?t.selectionKeys===e.key:void 0!==t.selectionKeys[e.key])},u=function(n,r){return e.createElement(A,{key:n.key||JSON.stringify(n.data),level:0,rowIndex:r,selectOnEdit:t.selectOnEdit,node:n,columns:t.columns,expandedKeys:t.expandedKeys,onToggle:t.onToggle,onExpand:t.onExpand,onCollapse:t.onCollapse,selectionMode:t.selectionMode,selectionKeys:t.selectionKeys,onSelectionChange:t.onSelectionChange,metaKeySelection:t.metaKeySelection,onRowClick:i,onSelect:t.onSelect,onUnselect:t.onUnselect,propagateSelectionUp:t.propagateSelectionUp,propagateSelectionDown:t.propagateSelectionDown,rowClassName:t.rowClassName,contextMenuSelectionKey:t.contextMenuSelectionKey,onContextMenuSelectionChange:t.onContextMenuSelectionChange,onContextMenu:t.onContextMenu})},f=t.value&&t.value.length?function(){if(t.paginator&&!t.lazy){for(var e=t.first||0,n=e+(t.rows||0),r=[],o=e;o<n;o++){if(!t.value[o])break;r.push(u(t.value[o]))}return r}return t.value.map(u)}():function(){if(t.loading)return null;var n=t.columns?t.columns.length:null,o=t.emptyMessage||r("emptyMessage");return e.createElement("tr",null,e.createElement("td",{className:"p-treetable-emptymessage",colSpan:n},o))}();return e.createElement("tbody",{className:"p-treetable-tbody"},f)}));V.displayName="TreeTableBody";var B=e.memo((function(t){var n=function(t,n){return e.createElement("td",{key:t.field||n,className:t.props.footerClassName||t.props.className,style:t.props.footerStyle||t.props.style,rowSpan:t.props.rowSpan,colSpan:t.props.colSpan},t.props.footer)},r=function(t,r){var o=e.Children.toArray(t.props.children).map(n);return e.createElement("tr",{key:r},o)},o=t.columnGroup?e.Children.toArray(t.columnGroup.props.children).map(r):function(t){if(t){var r=t.map(n);return e.createElement("tr",null,r)}return null}(t.columns);return function(){if(t.columnGroup)return!0;for(var e=0;e<t.columns.length;e++)if(t.columns[e].props.footer)return!0;return!1}()?e.createElement("tfoot",{className:"p-treetable-tfoot"},o):null}));function X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw l}}}}function $(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}B.displayName="TreeTableFooter";var _=e.memo((function(t){var n,r=e.useRef(null),o=function(e,n){if(n.props.sortable){var r=e.target;(s.hasClass(r,"p-sortable-column")||s.hasClass(r,"p-column-title")||s.hasClass(r,"p-sortable-column-icon")||s.hasClass(r.parentElement,"p-sortable-column-icon"))&&(t.onSort({originalEvent:e,sortField:n.props.sortField||n.props.field,sortFunction:n.props.sortFunction,sortable:n.props.sortable}),s.clearSelection())}},l=function(e,n){t.reorderableColumns&&n.props.reorderable&&("INPUT"!==e.target.nodeName?e.currentTarget.draggable=!0:"INPUT"===e.target.nodeName&&(e.currentTarget.draggable=!1))},a=function(e,t){"Enter"===e.key&&(o(e,t),e.preventDefault())},i=function(e){if(t.multiSortMeta)for(var n=0;n<t.multiSortMeta.length;n++)if(t.multiSortMeta[n].field===e.props.field)return n;return-1},c=function(e,n){t.resizableColumns&&t.onResizeStart&&t.onResizeStart({originalEvent:e,columnEl:e.target.parentElement,column:n})},u=function(e,n){t.onDragStart&&t.onDragStart({originalEvent:e,column:n})},d=function(e,n){t.onDragOver&&t.onDragOver({originalEvent:e,column:n})},m=function(e,n){t.onDragLeave&&t.onDragLeave({originalEvent:e,column:n})},h=function(e,n){t.onDrop&&t.onDrop({originalEvent:e,column:n})},v=function(e,n){if(n.props.filter&&t.onFilter){r.current&&clearTimeout(r.current);var o=e.target.value;r.current=setTimeout((function(){t.onFilter({value:o,field:n.props.field,matchMode:n.props.filterMatchMode||"startsWith"}),r.current=null}),t.filterDelay)}},S=function(e){if(e){var t,n=X(e);try{for(n.s();!(t=n.n()).done;){if(t.value.props.filter)return!0}}catch(e){n.e(e)}finally{n.f()}}return!1},E=function(e,t,n){if(e.props.sortable){var r=t?n<0?"pi-sort-down":"pi-sort-up":"pi-sort";return"pi-sort-down"===r?"descending":"pi-sort-up"===r?"ascending":"none"}return null},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?"string"==typeof n[0]?e.props[n[0]]:(n[0]||e).props[n[1]]:null},C=function(t,n,r){if(t.props.sortable){var o=p("p-sortable-column-icon","pi pi-fw",n?r<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt");return e.createElement("span",{className:o})}return null},x=function(n){return t.resizableColumns?e.createElement("span",{className:"p-column-resizer p-clickable",onMouseDown:function(e){return c(e,n)}}):null},O=function(n){return-1!==n&&t.multiSortMeta&&t.multiSortMeta.length>1?e.createElement("span",{className:"p-sortable-column-badge"},n+1):null},k=function(n,r){var c;if(n.props.filter&&r.renderFilter&&(c=n.props.filterElement||e.createElement(y,{onInput:function(e){return v(e,n)},type:t.filterType,defaultValue:t.filters&&t.filters[n.props.field]?t.filters[n.props.field].value:null,className:"p-column-filter",placeholder:n.props.filterPlaceholder,maxLength:n.props.filterMaxLength})),r.filterOnly)return e.createElement("th",{key:n.props.columnKey||n.props.field||r.index,className:p("p-filter-column",n.props.filterHeaderClassName),style:n.props.filterHeaderStyle||n.props.style,rowSpan:n.props.rowSpan,colSpan:n.props.colSpan},c);var s=e.createRef(null),S=i(n),k=-1!==S?t.multiSortMeta[S]:null,M=n.props.field===t.sortField,N=null!==k,K=n.props.sortable&&(M||N),P=0;M?P=t.sortOrder:N&&(P=k.order);var R=C(n,K,P),D=E(n,K,P),T=O(S),j=p(n.props.headerClassName||n.props.className,{"p-sortable-column":n.props.sortable,"p-highlight":K,"p-resizable-column":t.resizableColumns&&w(n,"resizeable")}),z=n.props.headerTooltip,F=f.isNotEmpty(z),I=x(n);return e.createElement(e.Fragment,{key:n.columnKey||n.field||r.index},e.createElement("th",{ref:s,className:j,style:n.props.headerStyle||n.props.style,tabIndex:n.props.sortable?t.tabIndex:null,onClick:function(e){return o(e,n)},onMouseDown:function(e){return l(e,n)},onKeyDown:function(e){return a(e,n)},rowSpan:n.props.rowSpan,colSpan:n.props.colSpan,"aria-sort":D,onDragStart:function(e){return u(e,n)},onDragOver:function(e){return d(e,n)},onDragLeave:function(e){return m(e,n)},onDrop:function(e){return h(e,n)}},I,e.createElement("span",{className:"p-column-title"},n.props.header),R,T,c),F&&e.createElement(g,b({target:s,content:z},n.props.headerTooltipOptions)))},M=function(t,n){var r=e.Children.toArray(t.props.children).map((function(e,t){return k(e,{index:t,filterOnly:!1,renderFilter:!0})}));return e.createElement("tr",{key:n},r)},N=t.columnGroup?e.Children.toArray(t.columnGroup.props.children).map(M):(n=t.columns)?S(n)?e.createElement(e.Fragment,null,e.createElement("tr",null,n.map((function(e,t){return k(e,{index:t,filterOnly:!1,renderFilter:!1})}))),e.createElement("tr",null,n.map((function(e,t){return k(e,{index:t,filterOnly:!0,renderFilter:!0})})))):e.createElement("tr",null,n.map((function(e,t){return k(e,{index:t,filterOnly:!1,renderFilter:!1})}))):null;return e.createElement("thead",{className:"p-treetable-thead"},N)}));_.displayName="TreeTableHeader";var q=e.memo((function(t){var n=e.useRef(null),r=e.useRef(null),o=e.useRef(null),l=e.useRef(null),a=e.useRef(null),i=e.useRef(null),u=e.useRef(null),d=function(){if(t.scrollHeight)if(-1!==t.scrollHeight.indexOf("%")){var e=m(n.current);l.current.style.visibility="hidden",l.current.style.height="100px";var r=s.getOuterHeight(e),o=s.getOuterHeight(e.parentElement)*parseInt(t.scrollHeight,10)/100-(r-100);l.current.style.height="auto",l.current.style.maxHeight=o+"px",l.current.style.visibility="visible"}else l.current.style.maxHeight=t.scrollHeight},m=function(e){if(e){for(var t=e;t&&!s.hasClass(t,"p-treetable");)t=t.parentElement;return t}return null};c((function(){if(t.frozen)l.current.style.paddingBottom=s.calculateScrollbarWidth()+"px";else{var e=s.calculateScrollbarWidth();o.current.style.marginRight=e+"px",u.current&&(u.current.style.marginRight=e+"px")}})),e.useEffect((function(){d()}));var y=p("p-treetable-scrollable-view",{"p-treetable-frozen-view":t.frozen,"p-treetable-unfrozen-view":!t.frozen&&t.frozenWidth}),g=t.frozen?t.frozenWidth:"calc(100% - "+t.frozenWidth+")",b=t.frozen?null:t.frozenWidth,h=function(){if(f.isNotEmpty(t.columns)){var n=t.columns.map((function(t,n){return e.createElement("col",{key:t.field+"_"+n})}));return e.createElement("colgroup",{className:"p-treetable-scrollable-colgroup"},n)}return null}(),v=!t.frozen&&t.scrollHeight?{overflowY:"scroll"}:null;return e.createElement("div",{className:y,style:{width:g,left:b},ref:n},e.createElement("div",{className:"p-treetable-scrollable-header",ref:r,onScroll:function(){r.current.scrollLeft=0}},e.createElement("div",{className:"p-treetable-scrollable-header-box",ref:o},e.createElement("table",{className:"p-treetable-scrollable-header-table"},h,t.header))),e.createElement("div",{className:"p-treetable-scrollable-body",ref:l,style:v,onScroll:function(){var e,t=n.current.previousElementSibling;t&&(e=s.findSingle(t,".p-treetable-scrollable-body")),o.current.style.marginLeft=-1*l.current.scrollLeft+"px",u.current&&(u.current.style.marginLeft=-1*l.current.scrollLeft+"px"),e&&(e.scrollTop=l.current.scrollTop)}},e.createElement("table",{ref:a,style:{top:"0"},className:"p-treetable-scrollable-body-table"},h,t.body)),e.createElement("div",{className:"p-treetable-scrollable-footer",ref:i},e.createElement("div",{className:"p-treetable-scrollable-footer-box",ref:u},e.createElement("table",{className:"p-treetable-scrollable-footer-table"},h,t.footer))))}));function Y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw l}}}}function Q(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}q.displayName="TreeTableScrollableView";var ne=e.forwardRef((function(n,r){var o=R(e.useState(n.expandedKeys),2),i=o[0],c=o[1],d=R(e.useState(n.first),2),m=d[0],y=d[1],g=R(e.useState(n.rows),2),h=g[0],v=g[1],S=R(e.useState(n.sortField),2),E=S[0],w=S[1],C=R(e.useState(n.sortOrder),2),x=C[0],O=C[1],k=R(e.useState(n.multiSortMeta),2),N=k[0],K=k[1],P=R(e.useState(n.filters),2),D=P[0],T=P[1],j=R(e.useState([]),2),z=j[0],F=j[1],I=e.useRef(null),A=e.useRef(null),U=e.useRef(null),L=e.useRef(null),H=e.useRef(null),W=e.useRef(null),G=e.useRef(null),X=e.useRef(0),$=e.useRef(0),J=e.useRef(0),Q=e.useRef(null),Z=e.useRef(null),ee=e.useRef(null),re=e.useRef(null),oe=e.useRef(null),le=e.useRef(null),ae=R(a({type:"mousemove",listener:function(e){H.current&&Ne(e)}}),2),ie=ae[0],ce=ae[1],ue=R(a({type:"mouseup",listener:function(e){H.current&&(H.current=!1,Ke())}}),2),se=ue[0],fe=ue[1],pe=function(e){n.onToggle?n.onToggle(e):c(e.value)},de=function(e){n.onPage?n.onPage(e):(y(e.first),v(e.rows))},me=function(e){var t,r,o=e.sortField,l=n.defaultSortOrder;if(re.current=e.sortable,oe.current=e.sortFunction,le.current=e.sortField,"multiple"===n.sortMode){var a=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if((t=M(Ge()))&&t instanceof Array){var i=t.find((function(e){return e.field===o}));l=i?ye(i.order):l}var c={field:o,order:l};l?(t&&a||(t=[]),ge(c,t)):n.removableSort&&t&&be(c,t),r={multiSortMeta:t}}else l=He()===o?ye(We()):l,n.removableSort&&(o=l?o:null),r={sortField:o,sortOrder:l};n.onSort?n.onSort(r):(y(0),w(r.sortField),O(r.sortOrder),K(r.multiSortMeta))},ye=function(e){return n.removableSort?n.defaultSortOrder===e?-1*e:0:-1*e},ge=function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r].field===e.field){n=r;break}n>=0?t[n]=e:t.push(e)},be=function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r].field===e.field){n=r;break}n>=0&&t.splice(n,1),t=t.length>0?t:null},he=function(e){return ve(e)},ve=function e(t){var n=M(t);if(re.current&&"custom"===re.current&&oe.current)n=oe.current({data:t,field:He(),order:We()});else{n.sort((function(e,t){var n=He(),r=f.resolveFieldData(e.data,n),o=f.resolveFieldData(t.data,n);return Ce(r,o,We())}));for(var r=0;r<n.length;r++)n[r].children&&n[r].children.length&&(n[r].children=e(n[r].children))}return n},Se=function(e){var t=Ge();return t?Ee(e,t):e},Ee=function e(t,n){var r=M(t);r.sort((function(e,t){return we(e,t,n,0)}));for(var o=0;o<r.length;o++)r[o].children&&r[o].children.length&&(r[o].children=e(r[o].children,n));return r},we=function e(n,r,o,l){var a=f.resolveFieldData(n.data,o[l].field),i=f.resolveFieldData(r.data,o[l].field);return 0===f.compare(a,i,t.locale)?o.length-1>l?e(n,r,o,l+1):0:Ce(a,i,o[l].order)},Ce=function(e,n,r){return f.sort(e,n,r,t.locale,t.nullSortOrder)},xe=function(e,t,n){Oe({value:e,field:t,matchMode:n})},Oe=function(e){var t=Ve(),r=t?te({},t):{};ke(e.value)?r[e.field]&&delete r[e.field]:r[e.field]={value:e.value,matchMode:e.matchMode},n.onFilter?n.onFilter({filters:r}):(y(0),T(r))},ke=function(e){return null==e||("string"==typeof e&&0===e.trim().length||e instanceof Array&&0===e.length)},Me=function(e){var t=s.getOffset(I.current).left;W.current=e.columnEl,G.current=e.column,H.current=!0,X.current=e.originalEvent.pageX-t+I.current.scrollLeft,De()},Ne=function(e){var t=s.getOffset(I.current).left;s.addClass(I.current,"p-unselectable-text"),A.current.style.height=I.current.offsetHeight+"px",A.current.style.top="0px",A.current.style.left=e.pageX-t+I.current.scrollLeft+"px",A.current.style.display="block"},Ke=function(e){var t=A.current.offsetLeft-X.current,r=W.current.offsetWidth,o=r+t;if(r+t>parseInt(W.current.style.minWidth||15,10)){if("fit"===n.columnResizeMode){var l=W.current.nextElementSibling,a=l.offsetWidth-t;if(o>15&&a>15)if(n.scrollable){var i=Pe(W.current),c=s.findSingle(i,"table.p-treetable-scrollable-body-table"),u=s.findSingle(i,"table.p-treetable-scrollable-header-table"),f=s.findSingle(i,"table.p-treetable-scrollable-footer-table"),p=s.index(W.current);Re(u,p,o,a),Re(c,p,o,a),Re(f,p,o,a)}else W.current.style.width=o+"px",l&&(l.style.width=a+"px")}else if("expand"===n.columnResizeMode)if(n.scrollable){var d=Pe(W.current),m=s.findSingle(d,"table.p-treetable-scrollable-body-table"),y=s.findSingle(d,"table.p-treetable-scrollable-header-table"),g=s.findSingle(d,"table.p-treetable-scrollable-footer-table");m.style.width=m.offsetWidth+t+"px",y.style.width=y.offsetWidth+t+"px",g&&(g.style.width=y.offsetWidth+t+"px");var b=s.index(W.current);Re(y,b,o,null),Re(m,b,o,null),Re(g,b,o,null)}else st.style.width=st.offsetWidth+t+"px",W.current.style.width=o+"px";n.onColumnResizeEnd&&n.onColumnResizeEnd({element:W.current,column:G.current,delta:t})}A.current.style.display="none",W.current=null,G.current=null,s.removeClass(I.current,"p-unselectable-text"),Te()},Pe=function(e){if(e){for(var t=e.parentElement;t&&!s.hasClass(t,"p-treetable-scrollable-view");)t=t.parentElement;return t}return null},Re=function(e,t,n,r){if(e){var o="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!o)throw new Error("Scrollable tables require a colgroup to support resizable columns");var l=o.children[t],a=l.nextElementSibling;l.style.width=n+"px",a&&r&&(a.style.width=r+"px")}},De=function(){ie(),se()},Te=function(){ce(),fe()},je=function(e){var t=e.originalEvent,n=e.column;H.current?t.preventDefault():($.current=s.getHiddenElementOuterWidth(U.current),J.current=s.getHiddenElementOuterHeight(U.current),Q.current=Ae(t.currentTarget),Z.current=n,t.dataTransfer.setData("text","b"))},ze=function(e){var t=e.originalEvent,r=Ae(t.currentTarget);if(n.reorderableColumns&&Q.current&&r){t.preventDefault();var o=s.getOffset(I.current),l=s.getOffset(r);if(Q.current!==r){var a=l.left-o.left,i=l.left+r.offsetWidth/2;U.current.style.top=l.top-o.top-(J.current-1)+"px",L.current.style.top=l.top-o.top+r.offsetHeight+"px",t.pageX>i?(U.current.style.left=a+r.offsetWidth-Math.ceil($.current/2)+"px",L.current.style.left=a+r.offsetWidth-Math.ceil($.current/2)+"px",ee.current=1):(U.current.style.left=a-Math.ceil($.current/2)+"px",L.current.style.left=a-Math.ceil($.current/2)+"px",ee.current=-1),U.current.style.display="block",L.current.style.display="block"}}},Fe=function(e){n.reorderableColumns&&Q.current&&(e.originalEvent.preventDefault(),U.current.style.display="none",L.current.style.display="none")},Ie=function(t){var r=t.originalEvent,o=t.column;if(r.preventDefault(),Q.current){var l=s.index(Q.current),a=s.index(Ae(r.currentTarget)),i=l!==a;if(i&&(a-l==1&&-1===ee.current||l-a==1&&1===ee.current)&&(i=!1),i){var c=z?Xe():e.Children.toArray(n.children),u=function(e,t){return f.equals(e,t,e.props.columnKey||t.props.columnKey?"props.columnKey":"props.field")},p=c.findIndex((function(e){return u(e,Z.current)})),d=c.findIndex((function(e){return u(e,o)}));d<p&&1===ee.current&&d++,d>p&&-1===ee.current&&d--,f.reorderArray(c,p,d);var m,y=[],g=Y(c);try{for(g.s();!(m=g.n()).done;){var b=m.value;y.push(b.props.columnKey||b.props.field)}}catch(e){g.e(e)}finally{g.f()}F(y),n.onColReorder&&n.onColReorder({dragIndex:p,dropIndex:d,columns:c})}U.current.style.display="none",L.current.style.display="none",Q.current.draggable=!1,Q.current=null,ee.current=null}},Ae=function(e){if("TH"===e.nodeName)return e;for(var t=e.parentElement;"TH"!==t.nodeName&&(t=t.parentElement););return t},Ue=function(){return n.onPage?n.first:m},Le=function(){return n.onPage?n.rows:h},He=function(){return n.onSort?n.sortField:E},We=function(){return n.onSort?n.sortOrder:x},Ge=function(){return(n.onSort?n.multiSortMeta:N)||[]},Ve=function(){return n.onFilter?n.filters:D},Be=function(e,t){if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if(r.props.columnKey===t||r.props.field===t)return r}return null},Xe=function(){var t=e.Children.toArray(n.children);if(t&&t.length){if(n.reorderableColumns&&z){var r,o=[],l=Y(z);try{for(l.s();!(r=l.n()).done;){var a=Be(t,r.value);a&&o.push(a)}}catch(e){l.e(e)}finally{l.f()}return[].concat(o,M(t.filter((function(e){return o.indexOf(e)<0}))))}return t}return null},$e=function(e){var t,n=null,r=Y(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.props.frozen&&(n=n||[]).push(o)}}catch(e){r.e(e)}finally{r.f()}return n},Je=function(e){var t,n=null,r=Y(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.props.frozen||(n=n||[]).push(o)}}catch(e){r.e(e)}finally{r.f()}return n},_e=function(t){var r,o=[],a=Ve(),i=e.Children.toArray(n.children),c="strict"===n.filterMode,u=Y(t);try{for(u.s();!(r=u.n()).done;){for(var s=r.value,f=te({},s),p=!0,d=!1,m=0;m<i.length;m++){var y=i[m],g=a?a[y.props.field]:null,b=y.props.field,h=void 0;if(g){var v=g.matchMode||y.props.filterMatchMode||"startsWith";if(h={filterField:b,filterValue:g.value,filterConstraint:"custom"===v?y.props.filterFunction:l.filters[v],isStrictMode:c,options:{rowData:s,filters:a,props:n,column:{filterMeta:g,filterField:b,props:y.props}}},(!c||qe(f,h)||Ye(f,h))&&(c||Ye(f,h)||qe(f,h))||(p=!1),!p)break}if(n.globalFilter&&!d){var S=te({},f);h={filterField:b,filterValue:n.globalFilter,filterConstraint:l.filters[n.globalFilterMatchMode],isStrictMode:c},(c&&(qe(S,h)||Ye(S,h))||!c&&(Ye(S,h)||qe(S,h)))&&(d=!0,f=S)}}var E=p;n.globalFilter&&(E=p&&d),E&&o.push(f)}}catch(e){u.e(e)}finally{u.f()}return o},qe=function(e,t){if(e){var n=!1;if(e.children){var r=M(e.children);e.children=[];var o,l=Y(r);try{for(l.s();!(o=l.n()).done;){var a=te({},o.value);Ye(a,t)&&(n=!0,e.children.push(a))}}catch(e){l.e(e)}finally{l.f()}}if(n)return!0}},Ye=function(e,t){var r=t.filterField,o=t.filterValue,l=t.filterConstraint,a=t.isStrictMode,i=t.options,c=!1;return l(f.resolveFieldData(e.data,r),o,n.filterLocale,i)&&(c=!0),(!c||a&&!Qe(e))&&(c=qe(e,{filterField:r,filterValue:o,filterConstraint:l,isStrictMode:a})||c),c},Qe=function(e){return!1!==e.leaf&&!(e.children&&e.children.length)};e.useImperativeHandle(r,(function(){return{props:n,filter:xe,getElement:function(){return I.current}}}));var Ze,et=function(t,r){var o=He(),l=We(),a=M(Ge()),i=Ve();return e.createElement(_,{columns:t,columnGroup:r,tabIndex:n.tabIndex,onSort:me,sortField:o,sortOrder:l,multiSortMeta:a,resizableColumns:n.resizableColumns,onResizeStart:Me,reorderableColumns:n.reorderableColumns,onDragStart:je,onDragOver:ze,onDragLeave:Fe,onDrop:Ie,onFilter:Oe,filters:i,filterDelay:n.filterDelay})},tt=function(t,n){return e.createElement(B,{columns:t,columnGroup:n})},nt=function(t,r){return e.createElement(V,{value:t,columns:r,expandedKeys:n.onToggle?n.expandedKeys:i,selectOnEdit:n.selectOnEdit,onToggle:pe,onExpand:n.onExpand,onCollapse:n.onCollapse,paginator:n.paginator,first:Ue(),rows:Le(),selectionMode:n.selectionMode,selectionKeys:n.selectionKeys,onSelectionChange:n.onSelectionChange,metaKeySelection:n.metaKeySelection,onRowClick:n.onRowClick,onSelect:n.onSelect,onUnselect:n.onUnselect,propagateSelectionUp:n.propagateSelectionUp,propagateSelectionDown:n.propagateSelectionDown,lazy:n.lazy,rowClassName:n.rowClassName,emptyMessage:n.emptyMessage,loading:n.loading,contextMenuSelectionKey:n.contextMenuSelectionKey,onContextMenuSelectionChange:n.onContextMenuSelectionChange,onContextMenu:n.onContextMenu})},rt=function(t,r){var o=p("p-paginator-"+t,n.paginatorClassName);return e.createElement(u,{first:Ue(),rows:Le(),pageLinkSize:n.pageLinkSize,className:o,onPageChange:de,template:n.paginatorTemplate,totalRecords:r,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,leftContent:n.paginatorLeft,rightContent:n.paginatorRight,alwaysShow:n.alwaysShowPaginator,dropdownAppendTo:n.paginatorDropdownAppendTo})},ot=function(t,r,o,l,a){var i=et(r,l),c=tt(r,a),u=nt(t,r);return e.createElement(q,{columns:r,header:i,body:u,footer:c,scrollHeight:n.scrollHeight,frozen:o,frozenWidth:n.frozenWidth})},lt=function(t){var r,o,l=Xe(),a=$e(l),i=a?Je(l):l;return a&&(r=ot(t,a,!0,n.frozenHeaderColumnGroup,n.frozenFooterColumnGroup)),o=ot(t,i,!1,n.headerColumnGroup,n.footerColumnGroup),e.createElement("div",{className:"p-treetable-scrollable-wrapper"},r,o)},at=function(t){var r=Xe(),o=et(r,n.headerColumnGroup),l=tt(r,n.footerColumnGroup),a=nt(t,r);return e.createElement("div",{className:"p-treetable-wrapper"},e.createElement("table",{style:n.tableStyle,className:n.tableClassName},o,l,a))},it=function(){var e=n.value||[];if(!n.lazy&&e&&e.length){var t=Ve(),r=He(),o=Ge();(f.isNotEmpty(t)||n.globalFilter)&&(e=_e(e)),(r||f.isNotEmpty(o))&&("single"===n.sortMode?e=he(e):"multiple"===n.sortMode&&(e=Se(e)))}return e}(),ct=f.findDiffKeys(n,ne.defaultProps),ut=p("p-treetable p-component",{"p-treetable-hoverable-rows":n.rowHover,"p-treetable-selectable":n.selectionMode&&"single"===n.selectionMode||n.selectionMode&&"multiple"===n.selectionMode,"p-treetable-resizable":n.resizableColumns,"p-treetable-resizable-fit":n.resizableColumns&&"fit"===n.columnResizeMode,"p-treetable-auto-layout":n.autoLayout,"p-treetable-striped":n.stripedRows,"p-treetable-gridlines":n.showGridlines},n.className),st=(Ze=it,n.scrollable?lt(Ze):at(Ze)),ft=function(e){return n.lazy?n.totalRecords:e?e.length:0}(it),pt=n.header&&e.createElement("div",{className:"p-treetable-header"},n.header),dt=n.footer&&e.createElement("div",{className:"p-treetable-footer"},n.footer),mt=n.paginator&&"bottom"!==n.paginatorPosition&&rt("top",ft),yt=n.paginator&&"top"!==n.paginatorPosition&&rt("bottom",ft),gt=function(){if(n.loading){var t=p("p-treetable-loading-icon pi-spin",n.loadingIcon);return e.createElement("div",{className:"p-treetable-loading"},e.createElement("div",{className:"p-treetable-loading-overlay p-component-overlay"},e.createElement("i",{className:t})))}return null}(),bt=n.resizableColumns&&e.createElement("div",{ref:A,className:"p-column-resizer-helper",style:{display:"none"}}),ht=n.reorderableColumns&&e.createElement("span",{ref:U,className:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}}),vt=n.reorderableColumns&&e.createElement("span",{ref:L,className:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}});return e.createElement("div",b({ref:I,id:n.id,className:ut,style:n.style,"data-scrollselectors":".p-treetable-scrollable-body"},ct),gt,pt,mt,st,yt,dt,bt,ht,vt)}));ne.displayName="TreeTable",ne.defaultProps={__TYPE:"TreeTable",alwaysShowPaginator:!0,autoLayout:!1,className:null,columnResizeMode:"fit",contextMenuSelectionKey:null,currentPageReportTemplate:"({currentPage} of {totalPages})",defaultSortOrder:1,emptyMessage:null,expandedKeys:null,filterDelay:300,filterLocale:void 0,filterMode:"lenient",filters:null,first:null,footer:null,footerColumnGroup:null,frozenFooterColumnGroup:null,frozenHeaderColumnGroup:null,frozenWidth:null,globalFilter:null,globalFilterMatchMode:o.CONTAINS,header:null,headerColumnGroup:null,id:null,lazy:!1,loading:!1,loadingIcon:"pi pi-spinner",metaKeySelection:!0,multiSortMeta:null,onColReorder:null,onCollapse:null,onColumnResizeEnd:null,onContextMenu:null,onContextMenuSelectionChange:null,onExpand:null,onFilter:null,onPage:null,onRowClick:null,onSelect:null,onSelectionChange:null,onSort:null,onToggle:null,onUnselect:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",propagateSelectionDown:!0,propagateSelectionUp:!0,removableSort:!1,reorderableColumns:!1,resizableColumns:!1,rowClassName:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectOnEdit:!0,selectionKeys:null,selectionMode:null,showGridlines:!1,sortField:null,sortMode:"single",sortOrder:null,stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null};export{ne as TreeTable};
