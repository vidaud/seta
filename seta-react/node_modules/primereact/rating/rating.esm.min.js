import*as n from"react";import{Tooltip as e}from"primereact/tooltip";import{ObjectUtils as t,classNames as r,IconUtils as o}from"primereact/utils";function i(){return i=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},i.apply(this,arguments)}function a(n){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(n)}function l(n,e){if("object"!==a(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}function c(n){var e=l(n,"string");return"symbol"===a(e)?e:String(e)}function u(n,e,t){return(e=c(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function f(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){u(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var s=n.memo(n.forwardRef((function(a,l){var c=n.useRef(null),u=!a.disabled&&!a.readOnly,p=u?0:null,m=function(n,e){u&&a.onChange&&a.onChange({originalEvent:n,value:e,stopPropagation:function(){},preventDefault:function(){},target:{name:a.name,id:a.id,value:e}}),n.preventDefault()},y=function(n){u&&a.onChange&&a.onChange({originalEvent:n,value:null,stopPropagation:function(){},preventDefault:function(){},target:{name:a.name,id:a.id,value:null}}),n.preventDefault()},g=function(n,e){"Enter"===n.key&&m(n,e)},b=function(n){"Enter"===n.key&&y(n)};n.useImperativeHandle(l,(function(){return{props:a,getElement:function(){return c.current}}}));var v=t.isNotEmpty(a.tooltip),d=t.findDiffKeys(a,s.defaultProps),O=r("p-rating",{"p-disabled":a.disabled,"p-readonly":a.readOnly},a.className),P=function(){if(a.cancel){var e=o.getJSXIcon(a.cancelIcon,f({className:"p-rating-icon p-rating-cancel"},a.cancelIconProps),{props:a});return n.createElement("div",{className:"p-rating-item p-rating-cancel-item",onClick:y,tabIndex:p,onKeyDown:b},e)}return null}(),j=Array.from({length:a.stars},(function(n,e){return e+1})).map((function(e){var t=e<=a.value,i=r("p-rating-item",{"p-rating-item-active":t}),l=t?{type:a.onIcon,props:a.onIconProps}:{type:a.offIcon,props:a.offIconProps},c=o.getJSXIcon(l.type,f({className:"p-rating-icon"},l.props),{props:a});return n.createElement("div",{key:e,className:i,tabIndex:p,onClick:function(n){return m(n,e)},onKeyDown:function(n){return g(n,e)}},c)}));return n.createElement(n.Fragment,null,n.createElement("div",i({ref:c,id:a.id,className:O,style:a.style},d),P,j),v&&n.createElement(e,i({target:c,content:a.tooltip},a.tooltipOptions)))})));s.displayName="Rating",s.defaultProps={__TYPE:"Rating",id:null,value:null,disabled:!1,readOnly:!1,stars:5,cancel:!0,style:null,className:null,tooltip:null,tooltipOptions:null,onChange:null,onIcon:"pi pi-star-fill",offIcon:"pi pi-star",cancelIcon:"pi pi-ban",cancelIconProps:null,onIconProps:null,offIconProps:null};export{s as Rating};
